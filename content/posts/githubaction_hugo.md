+++
author = "Bongjun Hur"
title = "ê¹ƒí—ˆë¸Œ ì•¡ì…˜ìœ¼ë¡œ íœ´ê³  ë¸”ë¡œê·¸ ìë™ ë°°í¬"
date = "2020-03-31"
tags = [
    "hugo","blog","github"
]
categories = [
    "blog",
]
+++

Hugo ìë™ ë°°í¬ìš© ê¹ƒí—ˆë¸Œ ì•¡ì…˜ ìŠ¤í¬ë¦½íŠ¸ ì†Œê°œ

í˜„ì¬ ì‚¬ìš©ì¤‘ì¸ Hugo í˜ì´ì§€ë¥¼ ë°°í¬í•˜ëŠ” ìŠ¤í¬ë¦½íŠ¸ ì•„ë˜ì™€ ê°™ë‹¤. ì„¤ëª…ì„ ì•½ê°„ ì²¨ë¶€í•´ì„œ ê³µê°œí•´ ë‘ë‹ˆ, ì•„ë¬´ë‚˜ ê°€ì ¸ê°€ì„œ ì˜ ì“°ì‹¬ ì¢‹ê² ë‹¤.

## ì ‘ê·¼ ê¶Œí•œì„ ìœ„í•´ ì ‘ê·¼ í‚¤ ë“±ë¡ ğŸ”‘

ë‹¤ë¥¸ ì œì•½ì‚¬í•­ì€ ì—†ìœ¼ë‚˜, ë°˜ë“œì‹œ ì´ ê¹ƒí—ˆë¸Œ ì•¡ì…˜ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‚¬ìš©í•˜ëŠ” ì €ì¥ì†Œì— ACCESS_TOKEN ì´ë¼ëŠ” ì´ë¦„ì„ í‚¤ë¥¼ í•˜ë‚˜ ë“±ë¡í•´ ë‘¬ì•¼ í•œë‹¤. ì´ ê³¼ì •ì€ ì•„ë˜ì™€ ê°™ë‹¤.

1. ê¹ƒí—ˆë¸Œ í˜ì´ì§€ì—ì„œ ì„¸íŒ…ì„ ëˆ„ë¥´ê³ , "Developer settings" ë©”ë‰´ë¥¼ ì„ íƒí•œë‹¤.

    ![ê¹ƒí—ˆë¸Œí‚¤ë“±ë¡-1](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fk.kakaocdn.net%2Fdn%2FzUb7O%2FbtqC6PHdYYg%2FLZ9Sccv79WVmH6OX0VjvT1%2Fimg.png)

2. ì›í•˜ëŠ” ê¶Œí•œì„ ì§€ì •í•˜ì—¬ ì ‘ê·¼ í•  ë•Œ ì‚¬ìš©í•  í‚¤ë¥¼ ë“±ë¡í•œë‹¤.
    ![ê¹ƒí—ˆë¸Œí‚¤ë“±ë¡-2](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fk.kakaocdn.net%2Fdn%2FPj1qw%2FbtqC4t6aQMQ%2FOFmY6Pb5xgMDQKJWxFFBC0%2Fimg.png)
    ![ê¹ƒí—ˆë¸Œí‚¤ë“±ë¡-3](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fk.kakaocdn.net%2Fdn%2FbQtgjy%2FbtqC4uDYi0g%2FapD1ujKSp5mMc7fZuFL9G0%2Fimg.png)
    ![ê¹ƒí—ˆë¸Œí‚¤ë“±ë¡-4](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fk.kakaocdn.net%2Fdn%2FbrXqWq%2FbtqC6lsNha4%2FwNw0jbZeAo8YcCs6sTqvV0%2Fimg.png)

3. ë°°í¬í•  ì €ì¥ì†Œë¡œ ì´ë™í•˜ì—¬ "Settings" > "Secrets" > "Add a new secret" ì„ ëˆŒëŸ¬ì„œ, ACCESS_TOKEN ì´ë¼ëŠ” ì´ë¦„ìœ¼ë¡œ ë¹„ë°€í‚¤ë¥¼ í•˜ë‚˜ ìƒì„±í•œë‹¤.

    ![ê¹ƒí—ˆë¸Œí‚¤ë“±ë¡-5](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fk.kakaocdn.net%2Fdn%2FbEyyKG%2FbtqC5n5uNXw%2FY1GF4XVSZMtMukiSQHTMW0%2Fimg.png)

ì´ì œ, ì•„ë˜ì™€ ê°™ì€ ê¹ƒí—ˆë¸Œ ì•¡ì…˜ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë„£ê³  ì‹¤í–‰í•˜ë©´ ë!!

## ê¹ƒí—ˆë¸Œ ì•¡ì…˜ ìŠ¤í¬ë¦½íŠ¸ ì„¤ëª… ğŸ”ŠğŸ“º

í˜¹ì‹œë‚˜ í•´ì„œ, ê¹ƒí—ˆë¸Œ ì•¡ì…˜ ìŠ¤í¬ë¦½íŠ¸ ê¸°ë³¸ íŒŒì¼ì€ ì•„ë˜ ê·¸ë¦¼ì²˜ëŸ¼ ë¨¼ì € ë§Œë“¤ë©´ ëœë‹¤. ê·¸ëŸ°ë‹¤ìŒ ì•„ë˜ ë‚´ìš©ìœ¼ë¡œ ë®ì–´ì¨ ë²„ë¦¬ë©´ ë!

![ê¹ƒí—ˆë¸Œì•¡ì…˜ë“±ë¡](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fk.kakaocdn.net%2Fdn%2Fz4I1z%2FbtqC6QGaNQO%2F61QLrKY1ktelrl6GKK6eZ0%2Fimg.png)

ë®ì–´ì“¸ ìŠ¤í¬ë¦½íŠ¸ëŠ” ì•„ë˜ì™€ ê°™ë‹¤ ğŸ˜ğŸ˜

{{< highlight yaml >}}

    # íœ´ê³  ë¸”ë¡œê·¸ master --> gh-pages ë¡œ ë°°í¬í•˜ëŠ” GitHub Actions script íŒŒì¼

    # ì´ë¦„ì€ ì•„ë¬´ê±°ë‚˜ í•´ë„ ë©ë‹ˆë‹¤.
    name: CI

    # ê¹ƒí—ˆë¸Œ ì•¡ì…˜ì„ ì‹¤í–‰í•˜ëŠ” ì´ë²¤íŠ¸ë¥¼ ë“±ë¡í•´ ë‘ëŠ” ê³³, ê·¸ëƒ¥ ê¸°ë³¸ì ìœ¼ë¡œ ìƒê¸°ëŠ” ê²ƒì„ ê·¸ëŒ€ë¡œ ë‘ë©´,
    # commit ì´ ë°œìƒí•  ë•Œ ë§ˆë‹¤, ì´ ê¹ƒí—ˆë¸Œ ì•¡ì…˜ ìŠ¤í¬ë¦½íŠ¸ê°€ ì‹¤í–‰ëœë‹¤.
    # Controls when the action will run. Triggers the workflow on push or pull request
    # events but only for the master branch
    on:
      push:
        branches: [ master ]
      pull_request:
        branches: [ master ]

    # ì‹¤ì œ ì‘ì—…í•  ì¼ì„ ì •ì˜í•˜ëŠ” workflow í•µì‹¬ ì½”ë„ˆ
    # A workflow run is made up of one or more jobs that can run sequentially or in parallel
    jobs:
    	# ê·¸ëŒ€ë¡œ ë‘”ë‹¤ ê±´ë“œë¦¬ì§€ ì•Šì•˜ë‹¤. ë” ì‚´í´ë³¼ ê²ƒë„ ì—†ê³ .
      # This workflow contains a single job called "build"
      build:
    		# ì‘ì—…í•˜ëŠ” ê°€ìƒ ë¨¸ì‹ ì´ ìš´ì˜í•˜ëŠ” osë¥¼ ì„ íƒí•  ìˆ˜ ìˆëŠ” ê³³, ì´ê²ƒë„ ê·¸ëƒ¥ ê¸°ë³¸ê°’ìœ¼ë¡œ ë‘”ë‹¤.
        # The type of runner that the job will run on
        runs-on: ubuntu-latest

        # Steps represent a sequence of tasks that will be executed as part of the job
        steps:
    		# ë¨¼ì €, master ë‚´ìš©ì„ ë¶€íŒ…ëœ ê¹ƒí—ˆë¸Œ ì•¡ì…˜ì„ ìˆ˜í–‰í•˜ëŠ” ê°€ìƒ ë¨¸ì‹ ìœ¼ë¡œ ì²´í¬ì•„ì›ƒì„ í•œë‹¤.
    		# ì´í›„, Hugo ë¥¼ ì´ìš©í•˜ì—¬ ì‚¬ì´íŠ¸ ë¹Œë“œë¥¼ ìˆ˜í–‰í•˜ë©´ ë ê²ƒì´ë‹¤.
    		# ì´ë¯¸ ì„ êµ¬ìê°€ ì‘ì„±í•´ ë‘” ìŠ¤í¬ë¦½íŠ¸ë¥¼ ê·¸ëƒ¥ ì‚¬ìš©í•˜ë©´ ë„ë‹ˆë‹¤.
        # Checks-out your repository under $GITHUB_WORKSPACE, so your job can access it
        - uses: actions/checkout@v2

    		# ê·¸ëŸ°ë°, íœ´ê³  í…Œë§ˆë¥¼ submodule ë¡œ ë“±ë¡í•´ì„œ ì‚¬ìš©ì¤‘ì´ë‹¤.
    		# submodule ë„ ë¹Œë“œ ê³¼ì •ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ì²´í¬ì•„ì›ƒì„ í•´ë‘ì.
    		# bash ì‰˜ì„ ì´ìš©í•˜ì—¬ git ëª…ë ¹ì„ ìˆ˜í–‰í•˜ì—¬ ì²´í¬ì•„ì›ƒì„ ì§„í–‰í•¨ì„ ë³¼ ìˆ˜ ìˆë‹¤.
        - name: Checkout submodules
          shell: bash
          run: |
            # If your submodules are configured to use SSH instead of HTTPS please uncomment the following line
            # git config --global url."https://github.com/".insteadOf "git@github.com:"
            auth_header="$(git config --local --get http.https://github.com/.extraheader)"
            git submodule sync --recursive
            git -c "http.extraheader=$auth_header" -c protocol.version=2 submodule update --init --force --recursive --depth=1

    		# Hugo ìµœì‹  ë²„ì „ì„ ë‹¤ìš´ë¡œë“œ ë°›ëŠ”ë‹¤.
    		# ì´ ê³¼ì •ë„ ì´ë¯¸ êµ¬í˜„í•´ ë‘” ë¶„ì˜ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì•„ë˜ì™€ ê°™ì´ ë¶ˆëŸ¬ ì‚¬ìš©í•˜ë©´ ëœë‹¤.
        - name: Setup Hugo
          uses: peaceiris/actions-hugo@v2
          with:
            hugo-version: 'latest'
            extended: true

    		# ì´ì œ íœ´ê³  ì‚¬ì´íŠ¸ë¥¼ ë¹Œë“œí•˜ë„ë¡ ëª…ë ¹ì„ ë‚´ë¦°ë‹¤.
    		# ë¹Œë“œëœ ì‚¬ì´íŠ¸ì˜ ë‚´ìš©ì€ ì•Œë‹¤ì‹œí”¼ public í´ë”ì— ì €ì¥ë˜ê²Œ ëœë‹¤.
        - name: Build
          run: |
            hugo --minify

    		# ì´ì œ ë¹Œë“œëœ ì‚¬ì´íŠ¸ ë‚´ìš©ì´ ì €ì¥ëœ public í´ë”ë¥¼ gh-pages ë¸Œëœì¹˜ë¡œ ë°°í¬í•˜ë©´ ëœë‹¤.
    		# ì´ë¯¸ êµ¬í˜„ëœ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‚¬ìš©í•˜ë©´ ëœë‹¤.
    		# ë‹¨, ë‚´ ì €ì¥ì†Œì— íŒŒì¼ì„ ë§‰ ì˜¬ë ¤ë‘ê¸° ìœ„í•´ì„  ë‹¹ì—°íˆ ì ‘ê·¼ ê¶Œí•œì´ í•„ìš”í•˜ë‹¤ê³  ìƒê°ì´ ë“¤ì£ ???
    		# ê·¸ë˜ì„œ, ë¯¸ë¦¬ ì•„ë˜ì— ì“°ì´ëŠ” ACCESS_TOKEN ì´ë¦„ìœ¼ë¡œ ë¹„ë°€ í‚¤ë¥¼ ìƒì„±í•´ì•¼ ì•„ë˜ ë™ì‘ì´ ì„±ê³µí•œë‹¤.
        - name: Deploy
          uses: peaceiris/actions-gh-pages@v3
          with:
            github_token: ${{ secrets.ACCESS_TOKEN }}
            publish_dir: ./public

{{< /highlight >}}
